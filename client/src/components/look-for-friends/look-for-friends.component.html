<div class="look_fom_friends">
    <div class="asaid">
        <div class="user_in_group" *ngFor="let user of usersInCurrentGroup" (click)="setCurrentUser(user)">
            <span>{{user.childFirstName}}</span>
            <span>{{user.childLastName}}</span>
            <img src="../../assets/images/progile.jpg"  class="profile">
        </div>
        <button mat-raised-button color="accent" (click)=showKinderGardenDirection()>הגן שלנו</button>
    </div>
    <div class="map">
        <agm-map #gm [latitude]="groupLatitude" [longitude]="groupLongitude" [zoom]="14">
            <agm-direction *ngIf="dir" [origin]="dir.origin" [destination]="dir.destination" [panel]="myPanel"></agm-direction>
            <agm-marker *ngFor="let user of usersInCurrentGroup; let i = index" (markerClick)="onMarkerClicked(i)"
                        [latitude]="user.latitude" [longitude]="user.longitude"></agm-marker>
            <agm-info-window #infoWindow *ngFor="let user of usersInCurrentGroup; let i = index"
                             [latitude]="user.latitude" [longitude]="user.longitude" [isOpen]="currentFriend===user">
                <div class="info_window">
                    <span>{{user.firstName}}</span>
                    <span>{{user.lastName}}</span>
                </div>
            </agm-info-window>
            <agm-marker (markerClick)="toggleCurrentGroupInfoOpen()"
                        [latitude]="currentGroup.latitude" [longitude]="currentGroup.longitude"></agm-marker>
            <agm-info-window #infoWindowCurrentGroup
                             [latitude]="currentGroup.latitude" [longitude]="currentGroup.longitude" [isOpen]="isCurrentGroupInfoOpen">
                <div class="info_window">
                    <span>{{currentGroup.groupName}}</span>
                </div>
            </agm-info-window>
            <agm-marker
                        [latitude]="currentUser.latitude" [longitude]="currentUser.longitude"></agm-marker>
            <agm-info-window #infoWindowCurrentGroup
                             [latitude]="currentUser.latitude" [longitude]="currentUser.longitude" [isOpen]="true">
                <div class="info_window">
                    <span>אני</span>
                </div>
            </agm-info-window>
        </agm-map>
        <div #myPanel class="direction_details">
            <!--<h3 *ngIf="!this.currentUser.latitude||!currentUser.longitude||!currentFriend.latitude||!currentFriend.longitude">לא ניתן להציג מיקום זה</h3>-->
        </div>

    </div>
</div>


